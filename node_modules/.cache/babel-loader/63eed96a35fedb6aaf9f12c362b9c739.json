{"remainingRequest":"G:\\src-vue-2021\\7-music\\knn-music\\music_rs\\node_modules\\babel-loader\\lib\\index.js!G:\\src-vue-2021\\7-music\\knn-music\\music_rs\\src\\router\\index.js","dependencies":[{"path":"G:\\src-vue-2021\\7-music\\knn-music\\music_rs\\src\\router\\index.js","mtime":1629551914000},{"path":"G:\\src-vue-2021\\7-music\\knn-music\\music_rs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\src-vue-2021\\7-music\\knn-music\\music_rs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgeyBjcmVhdGVXZWJIaXN0b3J5LCBjcmVhdGVSb3V0ZXIgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IGFkbWluIGZyb20gIi4uL2NvbXBvbmVudHMvYWRtaW4vQWRtaW4udnVlIjsKaW1wb3J0IGFkbWluTWVudSBmcm9tICIuLi9jb21wb25lbnRzL2FkbWluL0FkbWluTWVudS52dWUiOwppbXBvcnQgbG9naW4gZnJvbSAiLi4vY29tcG9uZW50cy91c2VyL0xvZ2luLnZ1ZSI7IC8vIGltcG9ydCB0ZXN0IGZyb20gIi4uL1Rlc3QudnVlIgoKaW1wb3J0IG1haW4gZnJvbSAiLi4vY29tcG9uZW50cy9NYWluLnZ1ZSI7CmltcG9ydCByZWNvbW1lbmRzb25ncyBmcm9tICIuLi92aWV3cy9SZWNvbW1lbmRTb25ncy52dWUiOwppbXBvcnQgcmVjb21tZW5kdXNlcnMgZnJvbSAiLi4vdmlld3MvUmVjb21tZW5kVXNlcnMudnVlIjsKaW1wb3J0IGRpc2NvdmVyIGZyb20gIi4uL3ZpZXdzL0Rpc2NvdmVyLnZ1ZSI7CmltcG9ydCBob3RtdXNpYyBmcm9tICIuLi92aWV3cy9Ib3RNdXNpYy52dWUiOwppbXBvcnQgc2VhcmNoTXVzaWMgZnJvbSAiLi4vdmlld3MvU2VhcmNoTXVzaWMudnVlIjsKaW1wb3J0IGxvdmVTb25nIGZyb20gIi4uL3ZpZXdzL2xvdmUtc29uZy52dWUiOwppbXBvcnQgdXNlclJlY29yZCBmcm9tICIuLi92aWV3cy91c2VyLXJlY29yZC52dWUiOwppbXBvcnQgc3RvcmUgZnJvbSAiLi4vc3RvcmUvaW5kZXguanMiOwp2YXIgcm91dGVzID0gWy8vIHsKLy8gCXBhdGg6ICIvIiwKLy8gCS8vIOmHjeWumuWQkQovLyAJcmVkaXJlY3Q6ICIvbG9naW4iLAovLyB9LAp7CiAgcGF0aDogIi9sb2dpbiIsCiAgbmFtZTogImxvZ2luIiwKICBjb21wb25lbnQ6IGxvZ2luCn0sIHsKICBwYXRoOiAiL2FkbWluIiwKICBuYW1lOiAiYWRtaW4iLAogIGNvbXBvbmVudDogYWRtaW4KfSwgewogIHBhdGg6ICIvYWRtaW5NZW51IiwKICBuYW1lOiAiYWRtaW5NZW51IiwKICBjb21wb25lbnQ6IGFkbWluTWVudQp9LCB7CiAgcGF0aDogIi8iLAogIG5hbWU6ICJtYWluIiwKICBjb21wb25lbnQ6IG1haW4sCiAgcmVkaXJlY3Q6ICIvZGlzY292ZXIiLAogIG1ldGE6IHsKICAgIHJlcXVpcmVMb2dpbjogdHJ1ZQogIH0sCiAgLy8g5a2Q6Lev55SxCiAgY2hpbGRyZW46IFt7CiAgICBwYXRoOiAicmVjb21tZW5kc29uZ3MiLAogICAgbmFtZTogInJlY29tbWVuZHNvbmdzIiwKICAgIC8vIGNvbXBvbmVudDogKHJlc29sdmUpID0+IHJlcXVpcmUoW3JlY29tbWVuZHNvbmdzXSwgcmVzb2x2ZSksCiAgICBjb21wb25lbnQ6IHJlY29tbWVuZHNvbmdzLAogICAgbWV0YTogewogICAgICByZXF1aXJlTG9naW46IHRydWUKICAgIH0KICB9LCB7CiAgICBwYXRoOiAicmVjb21tZW5kdXNlcnMiLAogICAgbmFtZTogInJlY29tbWVuZHVzZXJzIiwKICAgIGNvbXBvbmVudDogcmVjb21tZW5kdXNlcnMsCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVMb2dpbjogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICJkaXNjb3ZlciIsCiAgICBuYW1lOiAiZGlzY292ZXIiLAogICAgY29tcG9uZW50OiBkaXNjb3ZlciwKICAgIG1ldGE6IHsKICAgICAgcmVxdWlyZUxvZ2luOiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogImhvdG11c2ljIiwKICAgIG5hbWU6ICJob3RtdXNpYyIsCiAgICBjb21wb25lbnQ6IGhvdG11c2ljLAogICAgbWV0YTogewogICAgICByZXF1aXJlTG9naW46IHRydWUKICAgIH0KICB9LCB7CiAgICBwYXRoOiAic2VhcmNoTXVzaWMiLAogICAgbmFtZTogInNlYXJjaE11c2ljIiwKICAgIGNvbXBvbmVudDogc2VhcmNoTXVzaWMKICB9LCB7CiAgICBwYXRoOiAibG92ZVNvbmciLAogICAgbmFtZTogImxvdmVTb25nIiwKICAgIGNvbXBvbmVudDogbG92ZVNvbmcKICB9LCB7CiAgICBwYXRoOiAidXNlclJlY29yZCIsCiAgICBuYW1lOiAidXNlclJlY29yZCIsCiAgICBjb21wb25lbnQ6IHVzZXJSZWNvcmQKICB9XQp9IC8vIHsKLy8gICAgIHBhdGg6ICIvdXNlclJlY29yZCIsCi8vICAgICBuYW1lOiAidXNlclJlY29yZCIsCi8vICAgICBjb21wb25lbnQ6IHVzZXJSZWNvcmQsCi8vIH0sCl07CnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIC8vIDQuIFByb3ZpZGUgdGhlIGhpc3RvcnkgaW1wbGVtZW50YXRpb24gdG8gdXNlLiBXZSBhcmUgdXNpbmcgdGhlIGhhc2ggaGlzdG9yeSBmb3Igc2ltcGxpY2l0eSBoZXJlLgogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IHJvdXRlcyAvLyBzaG9ydCBmb3IgYHJvdXRlczogcm91dGVzYAoKfSk7IC8vIOeZu+W9lemqjOivgQoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy8g5Yik5pat5piv5ZCm6ZyA6KaB55m75b2VCiAgaWYgKHRvLm1ldGEucmVxdWlyZUxvZ2luKSB7CiAgICAvLyDlpoLmnpznlLF0b2tlbuivtOaYjuW3sue7j+eZu+W9le+8jOWImei3s+i9rOWIsOmmlumhtQogICAgY29uc29sZS5sb2coIui3r+eUsei3s+i9rOmqjOivgSIpOyAvLyBjb25zb2xlLmxvZyhKU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpKQoKICAgIGNvbnNvbGUubG9nKHN0b3JlLnN0YXRlKTsgLy8gY29uc29sZS5sb2cod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSkKCiAgICBpZiAoc3RvcmUuc3RhdGUudXNlciB8fCB0by5wYXRoID09PSAiL2xvZ2luIikgewogICAgICBuZXh0KCk7CiAgICB9IGVsc2UgewogICAgICAvLyDlpoLmnpzmsqHmnInnmbvlvZXvvIzliJnmiYDmnInpobXpnaLpg73pnIDopoHot7PovazliLDnmbvlvZXnlYzpnaIKICAgICAgbmV4dCgiL2xvZ2luP3JlZGlyZWN0PSIuY29uY2F0KHRvLnBhdGgpKTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["G:/src-vue-2021/7-music/knn-music/music_rs/src/router/index.js"],"names":["createWebHistory","createRouter","admin","adminMenu","login","main","recommendsongs","recommendusers","discover","hotmusic","searchMusic","loveSong","userRecord","store","routes","path","name","component","redirect","meta","requireLogin","children","router","history","beforeEach","to","from","next","console","log","state","user"],"mappings":"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","sourcesContent":["// import Vue from \"vue\";\nimport { createWebHistory, createRouter } from \"vue-router\"\nimport admin from \"../components/admin/Admin.vue\"\nimport adminMenu from \"../components/admin/AdminMenu.vue\"\nimport login from \"../components/user/Login.vue\"\n// import test from \"../Test.vue\"\nimport main from \"../components/Main.vue\"\nimport recommendsongs from \"../views/RecommendSongs.vue\"\nimport recommendusers from \"../views/RecommendUsers.vue\"\nimport discover from \"../views/Discover.vue\"\nimport hotmusic from \"../views/HotMusic.vue\"\nimport searchMusic from \"../views/SearchMusic.vue\"\nimport loveSong from \"../views/love-song.vue\"\nimport userRecord from \"../views/user-record.vue\"\nimport store from \"../store/index.js\"\n\nconst routes = [\n\t// {\n\t// \tpath: \"/\",\n\t// \t// 重定向\n\t// \tredirect: \"/login\",\n\t// },\n\t{\n\t\tpath: \"/login\",\n\t\tname: \"login\",\n\t\tcomponent: login,\n\t},\n\n\t{\n\t\tpath: \"/admin\",\n\t\tname: \"admin\",\n\t\tcomponent: admin,\n\t},\n\t{\n\t\tpath: \"/adminMenu\",\n\t\tname: \"adminMenu\",\n\t\tcomponent: adminMenu,\n\t},\n\t{\n\t\tpath: \"/\",\n\t\tname: \"main\",\n\t\tcomponent: main,\n\t\tredirect: \"/discover\",\n\t\tmeta: {\n\t\t\trequireLogin: true,\n\t\t},\n\t\t// 子路由\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tpath: \"recommendsongs\",\n\t\t\t\tname: \"recommendsongs\",\n\t\t\t\t// component: (resolve) => require([recommendsongs], resolve),\n\t\t\t\tcomponent: recommendsongs,\n\t\t\t\tmeta: {\n\t\t\t\t\trequireLogin: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"recommendusers\",\n\t\t\t\tname: \"recommendusers\",\n\t\t\t\tcomponent: recommendusers,\n\t\t\t\tmeta: {\n\t\t\t\t\trequireLogin: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"discover\",\n\t\t\t\tname: \"discover\",\n\t\t\t\tcomponent: discover,\n\t\t\t\tmeta: {\n\t\t\t\t\trequireLogin: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"hotmusic\",\n\t\t\t\tname: \"hotmusic\",\n\t\t\t\tcomponent: hotmusic,\n\t\t\t\tmeta: {\n\t\t\t\t\trequireLogin: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"searchMusic\",\n\t\t\t\tname: \"searchMusic\",\n\t\t\t\tcomponent: searchMusic,\n\t\t\t},\n            {\n                path: \"loveSong\",\n                name: \"loveSong\",\n                component: loveSong,\n            },\n            {\n                path: \"userRecord\",\n                name: \"userRecord\",\n                component: userRecord,\n            },\n\t\t],\n\t},\n    // {\n    //     path: \"/userRecord\",\n    //     name: \"userRecord\",\n    //     component: userRecord,\n    // },\n]\n\nconst router = createRouter({\n\t// 4. Provide the history implementation to use. We are using the hash history for simplicity here.\n\thistory: createWebHistory(),\n\troutes, // short for `routes: routes`\n})\n\n// 登录验证\nrouter.beforeEach((to, from, next) => {\n\t// 判断是否需要登录\n\tif (to.meta.requireLogin) {\n\t\t// 如果由token说明已经登录，则跳转到首页\n        console.log(\"路由跳转验证\")\n\t\t// console.log(JSON.parse(window.sessionStorage.getItem(\"user\")))\n        console.log(store.state)\n        // console.log(window.sessionStorage.getItem(\"user\"))\n\t\tif (store.state.user || to.path === \"/login\") {\n\t\t\tnext()\n\t\t} else {\n\t\t\t// 如果没有登录，则所有页面都需要跳转到登录界面\n\t\t\tnext(`/login?redirect=${to.path}`)\n\t\t}\n\t} else {\n\t\tnext()\n\t}\n})\n\nexport default router\n"]}]}