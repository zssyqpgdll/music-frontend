{"remainingRequest":"D:\\GraduationProject\\finally\\music_rs\\node_modules\\babel-loader\\lib\\index.js!D:\\GraduationProject\\finally\\music_rs\\src\\router\\index.js","dependencies":[{"path":"D:\\GraduationProject\\finally\\music_rs\\src\\router\\index.js","mtime":1650099193962},{"path":"D:\\GraduationProject\\finally\\music_rs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GraduationProject\\finally\\music_rs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBsb2dpbiBmcm9tICIuLi9jb21wb25lbnRzL3VzZXIvTG9naW4udnVlIjsKaW1wb3J0IGFkbWluIGZyb20gIi4uL2NvbXBvbmVudHMvYWRtaW4vQWRtaW4udnVlIjsKaW1wb3J0IGFkbWluTWVudSBmcm9tICIuLi9jb21wb25lbnRzL2FkbWluL0FkbWluTWVudS52dWUiOwppbXBvcnQgbWFpbiBmcm9tICIuLi9jb21wb25lbnRzL01haW4udnVlIjsKaW1wb3J0IHJlY29tbWVuZHNvbmdzIGZyb20gIi4uL3ZpZXdzL1JlY29tbWVuZFNvbmdzLnZ1ZSI7CmltcG9ydCByZWNvbW1lbmR1c2VycyBmcm9tICIuLi92aWV3cy9SZWNvbW1lbmRVc2Vycy52dWUiOwppbXBvcnQgZGlzY292ZXIgZnJvbSAiLi4vdmlld3MvRGlzY292ZXIudnVlIjsKaW1wb3J0IGhvdG11c2ljIGZyb20gIi4uL3ZpZXdzL0hvdE11c2ljLnZ1ZSI7CmltcG9ydCBzZWFyY2hNdXNpYyBmcm9tICIuLi92aWV3cy9TZWFyY2hNdXNpYy52dWUiOwppbXBvcnQgbG92ZVNvbmcgZnJvbSAiLi4vdmlld3MvbG92ZS1zb25nLnZ1ZSI7CmltcG9ydCB1c2VyUmVjb3JkIGZyb20gIi4uL3ZpZXdzL3VzZXItcmVjb3JkLnZ1ZSI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi9zdG9yZS9pbmRleC5qcyI7CnZhciByb3V0ZXMgPSBbLy/nmbvpmYYKewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdsb2dpbicsCiAgY29tcG9uZW50OiBsb2dpbgp9LCAvL+WQjuWPsOeuoeeQhgp7CiAgcGF0aDogJy9hZG1pbicsCiAgbmFtZTogJ2FkbWluJywKICBjb21wb25lbnQ6IGFkbWluIC8vIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8gJy4uL3ZpZXdzL0Fib3V0LnZ1ZScpCgp9LCAvL+WQjuWPsOeuoeeQhgp7CiAgcGF0aDogJy9hZG1pbk1lbnUnLAogIG5hbWU6ICdhZG1pbk1lbnUnLAogIGNvbXBvbmVudDogYWRtaW5NZW51Cn0sIC8v5Li755WM6Z2iCnsKICBwYXRoOiAnLycsCiAgbmFtZTogJ21haW4nLAogIGNvbXBvbmVudDogbWFpbiwKICAvL+mHjeWumuWQkQogIHJlZGlyZWN0OiAiL2Rpc2NvdmVyIiwKICBtZXRhOiB7CiAgICAvL+i/m+WFpeivpeeVjOmdouimgeaxguWFiOeZu+mZhgogICAgcmVxdWlyZUxvZ2luOiB0cnVlCiAgfSwKICAvL+WtkOi3r+eUsQogIGNoaWxkcmVuOiBbLy/mjqjojZDmrYzmm7LpobXpnaIKICB7CiAgICBwYXRoOiAicmVjb21tZW5kc29uZ3MiLAogICAgbmFtZTogInJlY29tbWVuZHNvbmdzIiwKICAgIGNvbXBvbmVudDogcmVjb21tZW5kc29uZ3MsCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVMb2dpbjogdHJ1ZQogICAgfQogIH0sIC8v55u45Ly855So5oi36aG16Z2iCiAgewogICAgcGF0aDogInJlY29tbWVuZHVzZXJzIiwKICAgIG5hbWU6ICJyZWNvbW1lbmR1c2VycyIsCiAgICBjb21wb25lbnQ6IHJlY29tbWVuZHVzZXJzLAogICAgbWV0YTogewogICAgICByZXF1aXJlTG9naW46IHRydWUKICAgIH0KICB9LCAvL+atjOabsuW6k+eVjOmdogogIHsKICAgIHBhdGg6ICJkaXNjb3ZlciIsCiAgICBuYW1lOiAiZGlzY292ZXIiLAogICAgY29tcG9uZW50OiBkaXNjb3ZlciwKICAgIG1ldGE6IHsKICAgICAgcmVxdWlyZUxvZ2luOiB0cnVlCiAgICB9CiAgfSwgLy/ng63pl6jmrYzmm7LnlYzpnaIKICB7CiAgICBwYXRoOiAiaG90bXVzaWMiLAogICAgbmFtZTogImhvdG11c2ljIiwKICAgIGNvbXBvbmVudDogaG90bXVzaWMsCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVMb2dpbjogdHJ1ZQogICAgfQogIH0sIC8v5pCc57Si55WM6Z2iCiAgewogICAgcGF0aDogInNlYXJjaE11c2ljIiwKICAgIG5hbWU6ICJzZWFyY2hNdXNpYyIsCiAgICBjb21wb25lbnQ6IHNlYXJjaE11c2ljCiAgfSwgLy/mlLbol4/nlYzpnaIKICB7CiAgICBwYXRoOiAibG92ZVNvbmciLAogICAgbmFtZTogImxvdmVTb25nIiwKICAgIGNvbXBvbmVudDogbG92ZVNvbmcKICB9LCAvL+eUqOaIt+iusOW9leeVjOmdogogIHsKICAgIHBhdGg6ICJ1c2VyUmVjb3JkIiwKICAgIG5hbWU6ICJ1c2VyUmVjb3JkIiwKICAgIGNvbXBvbmVudDogdXNlclJlY29yZAogIH1dCn1dOwp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICAvL+aPkOS+m+imgeS9v+eUqOeahOWOhuWPsuWunueOsOOAguS4uuS6hueugOWNlei1t+inge+8jOi/memHjOaIkeS7rOS9v+eUqOWTiOW4jOWOhuWPsuiusOW9lQogIC8vIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkocHJvY2Vzcy5lbnYuQkFTRV9VUkwpLAogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IHJvdXRlcwp9KTsgLy/nmbvpmYbpqozor4EKLy/mr4/kuIDmnaHot6/nlLHot7PovazkuYvliY3pg73opoHov5vooYzpqozor4EKLy/nm5HlkKzot6/nlLHmlLnlj5jliY0KCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIC8vdG/ljbPlsIbov5vlhaXnmoTnm67moIfot6/nlLHlr7nosaHvvIxmcm9t5b2T5YmN5a+86Iiq5q2j6KaB56a75byA55qE6Lev55SxCiAgLy9uZXh0ICA6ICDkuIvkuIDmraXmiafooYznmoTlh73mlbDpkqnlrZAKICAvL+WIpOaWreaYr+WQpumcgOimgeeZu+W9lQogIGlmICh0by5tZXRhLnJlcXVpcmVMb2dpbikgewogICAgLy/lpoLmnpznlLF0b2tlbuivtOaYjuW3sue7j+eZu+mZhu+8jOWImei3s+i9rOWIsOmmlumhtQogICAgY29uc29sZS5sb2coIui3r+eUsei3s+i9rOmqjOivgSIpOwogICAgY29uc29sZS5sb2coc3RvcmUuc3RhdGUpOyAvL+aJk+WNsOWtmOWCqOi1t+adpeeahOeKtuaAgQogICAgLy/lpoLmnpznlKjmiLflt7Lnu4/nmbvpmYYg5oiW6ICFIOWNs+Wwhui/m+WFpeeZu+W9lei3r+eUse+8jOWImeebtOaOpeaUvuihjAoKICAgIGlmIChzdG9yZS5zdGF0ZS51c2VyIHx8IHRvLnBhdGggPT09ICcvbG9naW4nKSB7CiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIC8v5aaC5p6c5rKh5pyJ55m76ZmG77yM5YiZ5omA5pyJ6aG16Z2i6YO96ZyA6KaB6Lez6L2s5Yiw55m76ZmG55WM6Z2iCiAgICAgIC8v55m75b2V5ZCO6YeN5a6a5ZCR5Yiw6KaB6L+b5YWl55qE55uu5qCH6Lev55Sx5a+56LGhCiAgICAgIG5leHQoIi9sb2dpbj9yZWRpcmVjdD0iLmNvbmNhdCh0by5wYXRoKSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["D:/GraduationProject/finally/music_rs/src/router/index.js"],"names":["createRouter","createWebHistory","login","admin","adminMenu","main","recommendsongs","recommendusers","discover","hotmusic","searchMusic","loveSong","userRecord","store","routes","path","name","component","redirect","meta","requireLogin","children","router","history","beforeEach","to","from","next","console","log","state","user"],"mappings":"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","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport login from \"../components/user/Login.vue\"\nimport admin from \"../components/admin/Admin.vue\"\nimport adminMenu from \"../components/admin/AdminMenu.vue\"\nimport main from \"../components/Main.vue\"\nimport recommendsongs from \"../views/RecommendSongs.vue\"\nimport recommendusers from \"../views/RecommendUsers.vue\"\nimport discover from \"../views/Discover.vue\"\nimport hotmusic from \"../views/HotMusic.vue\"\nimport searchMusic from \"../views/SearchMusic.vue\"\nimport loveSong from \"../views/love-song.vue\"\nimport userRecord from \"../views/user-record.vue\"\nimport store from \"../store/index.js\"\n\n\nconst routes = [\n  //登陆\n  {\n    path: '/login',\n    name: 'login',\n    component: login,\n  },\n  //后台管理\n  {\n    path: '/admin',\n    name: 'admin',\n    component: admin,\n    // component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  },\n  //后台管理\n  {\n    path: '/adminMenu',\n    name: 'adminMenu',\n    component: adminMenu,\n  },\n  //主界面\n  {\n    path: '/',\n    name: 'main',\n    component: main,\n    //重定向\n    redirect: \"/discover\",\n    meta: {\n      //进入该界面要求先登陆\n      requireLogin: true,\n    },\n    //子路由\n    children: [\n      //推荐歌曲页面\n      {\n        path: \"recommendsongs\",\n        name: \"recommendsongs\",\n        component: recommendsongs,\n\t\t\t\tmeta: {\n\t\t\t\t\trequireLogin: true,\n\t\t\t\t},\n      },\n      //相似用户页面\n      {\n        path: \"recommendusers\",\n        name: \"recommendusers\",\n        component: recommendusers,\n\t\t\t\tmeta: {\n\t\t\t\t\trequireLogin: true,\n\t\t\t\t},\n      },\n      //歌曲库界面\n      {\n        path: \"discover\",\n        name: \"discover\",\n        component: discover,\n\t\t\t\tmeta: {\n\t\t\t\t\trequireLogin: true,\n\t\t\t\t},\n      },\n      //热门歌曲界面\n      {\n        path: \"hotmusic\",\n        name: \"hotmusic\",\n        component: hotmusic,\n\t\t\t\tmeta: {\n\t\t\t\t\trequireLogin: true,\n\t\t\t\t},\n      },\n      //搜索界面\n      {\n        path: \"searchMusic\",\n        name: \"searchMusic\",\n        component: searchMusic,\n      },\n      //收藏界面\n      {\n        path: \"loveSong\",\n        name: \"loveSong\",\n        component: loveSong,\n      },\n      //用户记录界面\n      {\n        path: \"userRecord\",\n        name: \"userRecord\",\n        component: userRecord,\n      },\n    ]\n  },\n]\n\nconst router = createRouter({\n  //提供要使用的历史实现。为了简单起见，这里我们使用哈希历史记录\n  // history: createWebHistory(process.env.BASE_URL),\n  history: createWebHistory(),\n  routes,\n})\n\n//登陆验证\n//每一条路由跳转之前都要进行验证\n//监听路由改变前\nrouter.beforeEach((to, from, next) => {\n  //to即将进入的目标路由对象，from当前导航正要离开的路由\n  //next  :  下一步执行的函数钩子\n  //判断是否需要登录\n  if(to.meta.requireLogin) {\n    //如果由token说明已经登陆，则跳转到首页\n    console.log(\"路由跳转验证\")\n    console.log(store.state)  //打印存储起来的状态\n    //如果用户已经登陆 或者 即将进入登录路由，则直接放行\n    if(store.state.user || to.path === '/login'){\n      next()\n    }else{\n      //如果没有登陆，则所有页面都需要跳转到登陆界面\n      //登录后重定向到要进入的目标路由对象\n      next(`/login?redirect=${to.path}`)\n    }\n  }else{\n    next()\n  }\n})\n\nexport default router\n"]}]}